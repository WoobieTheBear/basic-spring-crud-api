# these credentials are defined at ./gravel/src/resources/application.properties
# they ONLY work if there is no other @Configuration is found
@credentials = admin:My4dmin+Pa55word
@user = john:Changeme+123
@power = mary:Changeme+123
@admin = susan:Changeme+123

# produces string "Response generated by BlackRestController"
GET http://localhost:8837/black/test
Content-Type: text/plain
Authorization: Basic {{user}}



# –––––––– "/people" endpoints ––––––––

# reads all entries
GET http://localhost:8837/black/api/people
Content-Type: application/json
Authorization: Basic {{user}}

# reads entry by id
GET http://localhost:8837/black/api/people/10002
Content-Type: application/json
Authorization: Basic {{user}}

# trigger out of bounds exception
GET http://localhost:8837/black/api/people/5
Content-Type: application/json
Authorization: Basic {{user}}

# trigger generic exception
GET http://localhost:8837/black/api/people/ab
Content-Type: application/json
Authorization: Basic {{user}}

# adds one entry
POST http://localhost:8837/black/api/people
Content-Type: application/json
Authorization: Basic {{power}}

{
    "id": 0,
    "email": "nicolas.anderson@hackerz.com",
    "company": "Dagget Software Corp",
    "lastlogin": "2024-02-27T15:10:26.714+00:00",
    "lastname": "Anderson",
    "firstname": "Nicolas",
    "creationstamp": "2024-02-27T15:10:26.714+00:00"
}

@personId = 10010

# updates one entry
PUT http://localhost:8837/black/api/people
Content-Type: application/json
Authorization: Basic {{power}}

{
    "id": {{personId}},
    "email": "nicolas.anderson@hackerz.com",
    "company": "Bat Cave Inc.",
    "lastlogin": "2024-02-27T15:10:26.714+00:00",
    "lastname": "Anderson Dawson",
    "firstname": "Nicolas Andrew",
    "creationstamp": "2024-02-27T15:10:26.714+00:00"
}

# deletes one entry
DELETE http://localhost:8837/black/api/people/{{personId}}
Content-Type: application/json
Authorization: Basic {{admin}}



# –––––––– "/companies" endpoints ––––––––

# reads all entries
GET http://localhost:8837/black/api/companies
Content-Type: application/json
Authorization: Basic {{user}}

# adds one entry
POST http://localhost:8837/black/api/companies
Content-Type: application/json
Authorization: Basic {{power}}

{
  "id": 0,
  "companyName": "Joker Inc.",
  "contactEmail": "info@the-joker.org"
}

@companyId = 1007

# reads entry by id
GET http://localhost:8837/black/api/companies/{{companyId}}
Content-Type: application/json
Authorization: Basic {{power}}

# updates one entry
PUT http://localhost:8837/black/api/companies
Content-Type: application/json
Authorization: Basic {{power}}

{
  "id": {{companyId}},
  "companyName": "Mister J. Inc.",
  "contactEmail": "info@the-joker.org"
}

# deletes one entry
DELETE http://localhost:8837/black/api/companies/{{companyId}}
Content-Type: application/json
Authorization: Basic {{admin}}



# –––––––– "/workcontracts" endpoints ––––––––

# reads all entries
GET http://localhost:8837/black/api/workcontracts
Content-Type: application/json
Authorization: Basic {{user}}

# reads one entry
GET http://localhost:8837/black/api/workcontracts/100008
Content-Type: application/json
Authorization: Basic {{user}}

# reads all entries sorted by salary desc
GET http://localhost:8837/black/api/workcontracts?sort=salary,desc
Content-Type: application/json
Authorization: Basic {{user}}

# reads all entries page=1 with size=3
GET http://localhost:8837/black/api/workcontracts?page=1&size=3
Content-Type: application/json
Authorization: Basic {{user}}

# adds one entry
POST http://localhost:8837/black/api/workcontracts
Content-Type: application/json
Authorization: Basic {{power}}

{
    "contractWorkload": 50,
    "salary": 7200,
    "companyId": 1001,
    "personId": 10001
}

@contractId = 100009

# updates one entry
PUT http://localhost:8837/black/api/workcontracts/{{contractId}}
Content-Type: application/json
Authorization: Basic {{power}}

{
    "contractWorkload": 70,
    "salary": 7200,
    "companyId": 1001,
    "personId": 10001
}

# reads one entry
GET http://localhost:8837/black/api/workcontracts/{{contractId}}
Content-Type: application/json
Authorization: Basic {{user}}

# deletes one entry
DELETE http://localhost:8837/black/api/workcontracts/{{contractId}}
Content-Type: application/json
Authorization: Basic {{admin}}
