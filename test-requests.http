# these credentials are defined at ./gravel/src/resources/application.properties
# they ONLY work if there is no other @Configuration is found
@credentials = admin:My4dmin+Pa55word

@user = john:Changeme+123
@power = mary:Changeme+123
@admin = susan:Changeme+123

# produces string "Response generated by BlackRestController"
GET http://localhost:8837/black/api/test
Content-Type: text/plain
Authorization: Basic {{user}}



# –––––––– "/people" endpoints ––––––––

# reads all entries
GET http://localhost:8837/black/api/people
Content-Type: application/json
Authorization: Basic {{user}}

# reads entry by id
GET http://localhost:8837/black/api/people/10003
Content-Type: application/json
Authorization: Basic {{user}}

# trigger out of bounds exception
GET http://localhost:8837/black/api/people/5
Content-Type: application/json
Authorization: Basic {{user}}

# trigger generic exception
GET http://localhost:8837/black/api/people/ab
Content-Type: application/json
Authorization: Basic {{user}}

# adds one entry
POST http://localhost:8837/black/api/people
Content-Type: application/json
Authorization: Basic {{power}}

{
    "id": 0,
    "lastName": "Anderson",
    "firstName": "Nicolas",
    "email": "nicolas.anderson@hackerz.com",
    "created": "2024-02-27T15:10:26.714+00:00",
    "secretIdentity": null,
    "titles": null
}

@personId = 10014

# updates one entry
PUT http://localhost:8837/black/api/people
Content-Type: application/json
Authorization: Basic {{power}}

{
    "id": {{personId}},
    "firstName": "Nicolas Andrew",
    "lastName": "Anderson Dawson",
    "email": "nicolas.anderson@hackerz.com",
    "created": "2024-02-27T15:10:26.714+00:00",
    "secretIdentity": null,
    "titles": null
}

# deletes one entry
DELETE http://localhost:8837/black/api/people/{{personId}}
Content-Type: application/json
Authorization: Basic {{admin}}



# –––––––– "/companies" endpoints ––––––––

# reads all entries
GET http://localhost:8837/black/api/companies
Content-Type: application/json
Authorization: Basic {{user}}

# adds one entry
POST http://localhost:8837/black/api/companies
Content-Type: application/json
Authorization: Basic {{power}}

{
  "id": 0,
  "companyName": "Joker Inc.",
  "contactEmail": "info@the-joker.org"
}

@companyId = 1007

# reads entry by id
GET http://localhost:8837/black/api/companies/{{companyId}}
Content-Type: application/json
Authorization: Basic {{power}}

# updates one entry
PUT http://localhost:8837/black/api/companies
Content-Type: application/json
Authorization: Basic {{power}}

{
  "id": {{companyId}},
  "companyName": "Mister J. Inc.",
  "contactEmail": "info@the-joker.org"
}

# deletes one entry
DELETE http://localhost:8837/black/api/companies/{{companyId}}
Content-Type: application/json
Authorization: Basic {{admin}}



# –––––––– "/workcontracts" endpoints ––––––––

# reads all entries
GET http://localhost:8837/black/api/workcontracts
Content-Type: application/json
Authorization: Basic {{user}}

# reads one entry
GET http://localhost:8837/black/api/workcontracts/100008
Content-Type: application/json
Authorization: Basic {{user}}

# reads all entries sorted by salary desc
GET http://localhost:8837/black/api/workcontracts?sort=salary,desc
Content-Type: application/json
Authorization: Basic {{user}}

# reads all entries page=1 with size=3
GET http://localhost:8837/black/api/workcontracts?page=1&size=3
Content-Type: application/json
Authorization: Basic {{user}}

# [NOTE]: this adds one entry but since the endpoint is created automatically
# via the ContractRepository this will not add company or person
POST http://localhost:8837/black/api/workcontracts
Content-Type: application/json
Authorization: Basic {{power}}

{
  "title": "HR Consultant",
  "contractWorkload": 50,
  "salary": 7200,
  "company": null,
  "person": null
}

@contractId = 100011

# updates one entry
PUT http://localhost:8837/black/api/workcontracts/{{contractId}}
Content-Type: application/json
Authorization: Basic {{power}}

{
  "title": "HR Manager",
  "contractWorkload": 70,
  "salary": 7400,
  "company": null,
  "person": null
}

# reads one entry
GET http://localhost:8837/black/api/workcontracts/{{contractId}}
Content-Type: application/json
Authorization: Basic {{user}}

# deletes one entry
DELETE http://localhost:8837/black/api/workcontracts/{{contractId}}
Content-Type: application/json
Authorization: Basic {{admin}}
